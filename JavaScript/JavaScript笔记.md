# JavaScriptç¬”è®°

## å­—ç¬¦ä¸²

### == å’Œ === é—®é¢˜

new å…³é”®å­—ä½¿ä»£ç å¤æ‚åŒ–ã€‚ä¹Ÿå¯èƒ½äº§ç”Ÿä¸€äº›æ„æƒ³ä¸åˆ°çš„ç»“æœï¼š
å½“ä½¿ç”¨ == ç›¸ç­‰è¿ç®—ç¬¦æ—¶ï¼Œç›¸ç­‰å­—ç¬¦ä¸²æ˜¯ç›¸ç­‰çš„ï¼š

```javascript
var x = "Bill";             
var y = new String("Bill");
// (x == y) ä¸º trueï¼Œå› ä¸º x å’Œ y çš„å€¼ç›¸ç­‰
```

å½“ä½¿ç”¨ `===` è¿ç®—ç¬¦æ—¶ï¼Œç›¸ç­‰å­—ç¬¦ä¸²æ˜¯ä¸ç›¸ç­‰çš„ï¼Œå› ä¸º `===` è¿ç®—ç¬¦éœ€è¦ç±»å‹å’Œå€¼åŒæ—¶ç›¸ç­‰ã€‚

```javascript
var x = "Bill";             
var y = new String("Bill");

// (x === y) ä¸º falseï¼Œå› ä¸º x å’Œ y çš„ç±»å‹ä¸åŒï¼ˆå­—ç¬¦ä¸²ä¸å¯¹è±¡ï¼‰
```

ç”šè‡³æ›´ç³Ÿã€‚å¯¹è±¡æ— æ³•æ¯”è¾ƒï¼š

``` javascript
var x = new String("Bill");             
var y = new String("Bill");
// (x == y) ä¸º falseï¼Œå› ä¸º x å’Œ y æ˜¯ä¸åŒçš„å¯¹è±¡

var x = new String("Bill");             
var y = new String("Bill");
// (x === y) ä¸º falseï¼Œå› ä¸º x å’Œ y æ˜¯ä¸åŒçš„å¯¹è±¡

```

## JSæ§åˆ¶CSSæ ·å¼å¤±æ•ˆé—®é¢˜

```HTML
    <style>
        canvas {
            width: 800px;
            height: 800px;
            border: 1px solid black;
            background-color: pink;
        }
    </style>
    <canvas id="draw"></canvas>
```
```JavaScript
    const canvas = document.querySelector('#draw');
            // console.log(canvas);
            console.log(canvas.style.width);
            console.log(canvas.style.height);

            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;

            console.log(canvas.width);
            console.log(canvas.height);
```


æ ¹æ®ä½ çš„ä»£ç å’Œé—®é¢˜ï¼Œ`console.log(canvas.style.width)` æ‰“å°ä¸å‡º canvas å®½åº¦çš„åŸå› å¦‚ä¸‹ï¼š
### æ€è€ƒ
å¥½çš„ï¼Œæˆ‘ç°åœ¨éœ€è¦è§£å†³ç”¨æˆ·çš„é—®é¢˜ï¼Œç”¨æˆ·åœ¨ä»£ç ä¸­ä½¿ç”¨`console.log(canvas.style.width)`æ‰“å°ä¸å‡ºcanvasçš„å®½åº¦ã€‚é¦–å…ˆï¼Œæˆ‘éœ€è¦ä»”ç»†åˆ†æç”¨æˆ·æä¾›çš„ä»£ç å’Œä¸Šä¸‹æ–‡ã€‚ é¦–å…ˆçœ‹ç”¨æˆ·æä¾›çš„HTMLæ–‡ä»¶test.htmlã€‚åœ¨CSSéƒ¨åˆ†ï¼Œcanvasçš„æ ·å¼è¢«è®¾ç½®ä¸ºwidth:800pxå’Œheight:800pxã€‚ç„¶ååœ¨JavaScriptä¸­ï¼Œç”¨æˆ·å°è¯•é€šè¿‡`canvas.style.width`æ¥è·å–å®½åº¦ï¼Œä½†è¾“å‡ºä¸ºç©ºã€‚ ç”¨æˆ·çš„é—®é¢˜æ˜¯ï¼Œä¸ºä»€ä¹ˆ`console.log(canvas.style.width)`æ‰“å°ä¸å‡ºå®½åº¦ã€‚æˆ‘éœ€è¦å›å¿†ä¸€ä¸‹HTML Canvasçš„å±æ€§å’Œæ ·å¼çš„å…³ç³»ã€‚Canvaså…ƒç´ æœ‰ä¸¤ä¸ªç›¸å…³çš„å±æ€§ï¼šä¸€ä¸ªæ˜¯HTMLå±æ€§widthå’Œheightï¼Œå¦ä¸€ä¸ªæ˜¯CSSæ ·å¼ä¸­çš„widthå’Œheightã€‚è¿™ä¸¤è€…æ˜¯ä¸åŒçš„ã€‚ HTMLçš„canvaså…ƒç´ çš„widthå’Œheightå±æ€§æ˜¯å®é™…çš„åƒç´ å°ºå¯¸ï¼Œå†³å®šäº†ç”»å¸ƒçš„åæ ‡ç³»ç»Ÿã€‚è€ŒCSSæ ·å¼ä¸­çš„widthå’Œheightæ˜¯æ§åˆ¶å…ƒç´ åœ¨é¡µé¢ä¸­çš„æ˜¾ç¤ºå°ºå¯¸ï¼Œå¯èƒ½æ”¹å˜å…ƒç´ çš„å¤§å°ï¼Œä½†ä¸ä¼šå½±å“å®é™…çš„åƒç´ æ¯”ä¾‹ã€‚ åœ¨ç”¨æˆ·çš„ä»£ç ä¸­ï¼Œä»–ä»¬å…ˆè®¾ç½®äº†CSSæ ·å¼ä¸­çš„widthå’Œheightä¸º800pxï¼Œè¿™ä¼šå½±å“canvasçš„æ˜¾ç¤ºå¤§å°ã€‚ç„¶ååœ¨JavaScriptä¸­ï¼Œä»–ä»¬é€šè¿‡`canvas.width = window.innerWidth`å’Œ`canvas.height = window.innerHeight`ä¿®æ”¹äº†canvasçš„HTMLå±æ€§ï¼Œè¿™ä¼šæ”¹å˜å®é™…çš„åƒç´ åŒºåŸŸï¼Œä½†ä¸ä¼šå½±å“CSSæ ·å¼ä¸­çš„å€¼ã€‚ ç”¨æˆ·ä½¿ç”¨`canvas.style.width`æ¥è·å–çš„æ˜¯CSSæ ·å¼ä¸­çš„widthå€¼ï¼Œè€Œä¸æ˜¯HTMLå±æ€§çš„å€¼ã€‚å› æ­¤ï¼Œå½“ç”¨æˆ·åœ¨JavaScriptä¸­ä¿®æ”¹äº†HTMLå±æ€§çš„widthåï¼ŒCSSæ ·å¼ä¸­çš„widthå¹¶æ²¡æœ‰è¢«è‡ªåŠ¨æ›´æ–°ï¼Œä»ç„¶ä¿æŒåŸæ¥çš„800pxï¼Œæˆ–è€…å¦‚æœç”¨æˆ·æ²¡æœ‰æ˜¾å¼è®¾ç½®çš„è¯å¯èƒ½ä¸ºç©ºã€‚ ä½†æ ¹æ®ç”¨æˆ·æä¾›çš„ä»£ç ï¼ŒCSSæ ·å¼ä¸­ç¡®å®è®¾ç½®äº†width:800pxï¼Œæ‰€ä»¥`canvas.style.width`åº”è¯¥è¿”å›"800px"ã€‚ç„¶è€Œï¼Œç”¨æˆ·æåˆ°æ‰“å°ä¸å‡ºæ¥ï¼Œå¯èƒ½æ˜¯å› ä¸ºåœ¨ä»£ç ä¸­ï¼Œç”¨æˆ·å¯èƒ½åœ¨è®¾ç½®HTMLå±æ€§ä¹‹åï¼Œæ²¡æœ‰æ­£ç¡®è·å–åˆ°CSSçš„æ ·å¼å€¼ï¼Œæˆ–è€…å­˜åœ¨å…¶ä»–é—®é¢˜ã€‚ å¦å¤–ï¼Œç”¨æˆ·åœ¨ä»£ç ä¸­æ‰§è¡Œäº†`canvas.width = window.innerWidth`ï¼Œè¿™ä¼šæ”¹å˜HTMLå±æ€§çš„widthï¼Œä½†ä¸ä¼šå½±å“CSSçš„style.widthã€‚å› æ­¤ï¼Œå¦‚æœç”¨æˆ·æƒ³è·å–HTMLå±æ€§çš„widthï¼Œåº”è¯¥ç›´æ¥è®¿é—®canvas.widthï¼Œè€Œä¸æ˜¯canvas.style.widthã€‚ å¯èƒ½ç”¨æˆ·æ··æ·†äº†HTMLå±æ€§å’ŒCSSæ ·å¼ã€‚ç”¨æˆ·å¯èƒ½æƒ³è·å–çš„æ˜¯HTMLå±æ€§çš„å®½åº¦ï¼Œä½†é”™è¯¯åœ°ä½¿ç”¨äº†style.widthã€‚å› æ­¤ï¼Œæ­£ç¡®çš„åšæ³•åº”è¯¥æ˜¯ï¼š - è¦è·å–HTMLå±æ€§çš„å®½åº¦ï¼Œä½¿ç”¨canvas.widthã€‚ - è¦è·å–CSSæ ·å¼ä¸­çš„å®½åº¦ï¼Œä½¿ç”¨canvas.style.widthï¼Œä½†è¦æ³¨æ„è¿™å¯èƒ½è¿”å›ç©ºå­—ç¬¦ä¸²ï¼Œå¦‚æœæ ·å¼æ˜¯é€šè¿‡CSSç±»æˆ–å¤–éƒ¨æ ·å¼è¡¨è®¾ç½®çš„ï¼Œè€Œä¸æ˜¯ç›´æ¥è®¾ç½®åœ¨å…ƒç´ çš„styleå±æ€§ä¸Šã€‚ åœ¨ç”¨æˆ·çš„ä»£ç ä¸­ï¼ŒCSSæ ·å¼æ˜¯é€šè¿‡å†…éƒ¨æ ·å¼è¡¨è®¾ç½®çš„ï¼Œè€Œä¸æ˜¯ç›´æ¥è®¾ç½®åœ¨canvaså…ƒç´ çš„styleå±æ€§ä¸Šï¼Œå› æ­¤`canvas.style.width`å¯èƒ½è¿”å›ç©ºå­—ç¬¦ä¸²ï¼Œå› ä¸ºæ ·å¼æ˜¯æ¥è‡ªå¤–éƒ¨æ ·å¼è¡¨ï¼Œè€Œä¸æ˜¯å…ƒç´ çš„å†…è”styleå±æ€§ã€‚ å› æ­¤ï¼Œç”¨æˆ·çš„é—®é¢˜å¯èƒ½åœ¨äºä»–ä»¬è¯•å›¾é€šè¿‡`canvas.style.width`æ¥è·å–é€šè¿‡CSSæ ·å¼è¡¨è®¾ç½®çš„å®½åº¦ï¼Œè€Œå®é™…ä¸Šéœ€è¦ä½¿ç”¨window.getComputedStyleæ¥è·å–è®¡ç®—åçš„æ ·å¼ã€‚ æ€»ç»“é—®é¢˜åŸå› ï¼š 1. ç”¨æˆ·æ··æ·†äº†HTMLå±æ€§å’ŒCSSæ ·å¼å±æ€§ã€‚ 2. ä½¿ç”¨`canvas.style.width`åªèƒ½è·å–å…ƒç´ å†…è”æ ·å¼ä¸­çš„widthå€¼ï¼Œè€Œç”¨æˆ·çš„æ ·å¼æ˜¯é€šè¿‡å†…éƒ¨æ ·å¼è¡¨è®¾ç½®çš„ï¼Œå› æ­¤éœ€è¦ä½¿ç”¨getComputedStyleã€‚ è§£å†³æ–¹æ¡ˆï¼š - å¦‚æœæƒ³è·å–HTMLå±æ€§çš„å®½åº¦ï¼Œä½¿ç”¨canvas.widthã€‚ - å¦‚æœæƒ³è·å–CSSè®¡ç®—åçš„å®½åº¦ï¼Œä½¿ç”¨`window.getComputedStyle(canvas).width`ã€‚ ç°åœ¨éœ€è¦å°†è¿™äº›åˆ†ææ•´ç†æˆç”¨æˆ·å®¹æ˜“ç†è§£çš„å›ç­”ï¼Œå¹¶ç»™å‡ºæ­£ç¡®çš„ä»£ç ç¤ºä¾‹ã€‚

---

### **æ ¸å¿ƒé—®é¢˜ï¼šHTML å±æ€§ä¸ CSS æ ·å¼çš„åŒºåˆ«**
1. **HTML å±æ€§ï¼ˆ`canvas.width`/`canvas.height`ï¼‰**  
   - å®šä¹‰ canvas çš„**å®é™…åƒç´ åŒºåŸŸ**ï¼ˆå†…éƒ¨åæ ‡ç³»ç»Ÿçš„å¤§å°ï¼‰ã€‚  
   - é€šè¿‡ `canvas.width = 800` è®¾ç½®ã€‚

2. **CSS æ ·å¼ï¼ˆ`canvas.style.width`ï¼‰**  
   - æ§åˆ¶ canvas å…ƒç´ åœ¨é¡µé¢ä¸­çš„**æ˜¾ç¤ºå°ºå¯¸**ï¼Œé€šè¿‡ CSS æ ·å¼è¡¨æˆ–å†…è”æ ·å¼è®¾ç½®ã€‚  
   - `canvas.style.width` ä»…è·å–å…ƒç´ å†…è”çš„ `style="width: ..."` å±æ€§å€¼ï¼Œ**ä¸åŒ…æ‹¬å¤–éƒ¨æ ·å¼è¡¨æˆ– `<style>` æ ‡ç­¾ä¸­çš„æ ·å¼**ã€‚

---

### **ä½ çš„ä»£ç é—®é¢˜åˆ†æ**
#### 1. **CSS æ ·å¼æœªè®¾ç½®ä¸ºå†…è”æ ·å¼**
   ```css
   canvas {
     width: 800px;
     height: 800px;
     /* å…¶ä»–æ ·å¼... */
   }
   ```
   - **é—®é¢˜**ï¼š  
     è¿™æ˜¯é€šè¿‡ CSS ç±»æˆ–æ ·å¼è¡¨è®¾ç½®çš„ï¼Œ**ä¸ä¼šç›´æ¥åæ˜ åœ¨ `canvas.style.width` ä¸­**ã€‚  
     `canvas.style.width` åªè¯»å–å…ƒç´ æœ¬èº«çš„ `style` å±æ€§ï¼ˆå¦‚ `<canvas style="width: 800px">`ï¼‰ï¼Œè€Œéå¤–éƒ¨æ ·å¼ã€‚

#### 2. **JavaScript ä¿®æ”¹äº† HTML å±æ€§**
   ```javascript
   canvas.width = window.innerWidth; // ä¿®æ”¹ HTML å±æ€§
   ```
   - è¿™ä¼šæ”¹å˜ canvas çš„å®é™…åƒç´ åŒºåŸŸï¼Œä½† **ä¸ä¼šå½±å“ CSS æ ·å¼**ã€‚

#### 3. **`console.log(canvas.style.width)` çš„å®é™…å€¼**
   - å¦‚æœ CSS æ ·å¼æ˜¯é€šè¿‡ `<style>` æ ‡ç­¾æˆ–å¤–éƒ¨æ ·å¼è¡¨è®¾ç½®çš„ï¼Œ`canvas.style.width` **è¿”å›ç©ºå­—ç¬¦ä¸²**ï¼Œå› ä¸ºæ ·å¼æœªç›´æ¥å†™åœ¨å…ƒç´ çš„ `style` å±æ€§ä¸­ã€‚

---

### **è§£å†³æ–¹æ¡ˆ**
#### 1. **è·å– CSS è®¡ç®—åçš„æ ·å¼**
   ä½¿ç”¨ `window.getComputedStyle()` è·å–å…ƒç´ æœ€ç»ˆçš„ CSS æ ·å¼ï¼š
   ```javascript
   console.log(getComputedStyle(canvas).width); // è¾“å‡º "800px"
   console.log(getComputedStyle(canvas).height); // è¾“å‡º "800px"
   ```

#### 2. **è·å– HTML å±æ€§çš„å®½åº¦**
   ç›´æ¥è®¿é—® `canvas.width` å’Œ `canvas.height`ï¼š
   ```javascript
   console.log(canvas.width); // è¾“å‡º window.innerWidth çš„å€¼
   console.log(canvas.height); // è¾“å‡º window.innerHeight çš„å€¼
   ```

#### 3. **ä¿®æ­£ä»£ç ç¤ºä¾‹**
   ```javascript
   ;(function () {
     const canvas = document.querySelector('#draw');
     const ctx = canvas.getContext("2d");

     // è·å– HTML å±æ€§çš„å®½åº¦
     console.log('HTML å±æ€§ width:', canvas.width); // åˆå§‹å€¼ä¸ºé»˜è®¤ 300ï¼ˆæœªè®¾ç½®æ—¶ï¼‰

     // è®¾ç½® HTML å±æ€§çš„å®½åº¦å’Œé«˜åº¦
     canvas.width = window.innerWidth;
     canvas.height = window.innerHeight;

     // è·å– CSS è®¡ç®—åçš„æ ·å¼
     console.log('CSS æ ·å¼ width:', getComputedStyle(canvas).width); // è¾“å‡º "800px"
     console.log('HTML å±æ€§ width:', canvas.width); // è¾“å‡º window.innerWidth çš„å€¼

     // å…¶ä»–ä»£ç ...
   })();
   ```

---

### **å…³é”®ç‚¹æ€»ç»“**
| **æ–¹æ³•**                   | **è·å–çš„å†…å®¹**                     | **é€‚ç”¨åœºæ™¯**                   |
| -------------------------- | ---------------------------------- | ------------------------------ |
| `canvas.width`             | HTML å±æ€§çš„åƒç´ åŒºåŸŸå®½åº¦            | ç»˜åˆ¶æ“ä½œã€åæ ‡è®¡ç®—             |
| `canvas.style.width`       | å…ƒç´ å†…è”çš„ `style="width"` å€¼      | ç›´æ¥ä¿®æ”¹å…ƒç´ çš„å†…è”æ ·å¼         |
| `getComputedStyle().width` | CSS æœ€ç»ˆæ¸²æŸ“åçš„å®½åº¦ï¼ˆå«æ‰€æœ‰æ ·å¼ï¼‰ | è·å–å…ƒç´ åœ¨é¡µé¢ä¸­çš„å®é™…æ˜¾ç¤ºå°ºå¯¸ |

---

### **å®Œæ•´ä¿®å¤åçš„ä»£ç **
```html
<!DOCTYPE html>
<html>
<head>
  <style>
    canvas {
      width: 800px;
      height: 800px;
      border: 1px solid black;
      background-color: pink;
    }
  </style>
</head>
<body>
  <canvas id="draw"></canvas>
  <script>
    ;(function () {
      const canvas = document.querySelector('#draw');
      const ctx = canvas.getContext("2d");

      // è·å– HTML å±æ€§çš„åˆå§‹å€¼ï¼ˆé»˜è®¤ 300Ã—150ï¼‰
      console.log('åˆå§‹ HTML width:', canvas.width);
      console.log('åˆå§‹ HTML height:', canvas.height);

      // è®¾ç½® HTML å±æ€§çš„å®½åº¦å’Œé«˜åº¦
      canvas.width = window.innerWidth;
      canvas.height = window.innerHeight;

      // è·å– CSS è®¡ç®—åçš„æ ·å¼ï¼ˆæ¥è‡ªæ ·å¼è¡¨ï¼‰
      console.log('CSS å®½åº¦:', getComputedStyle(canvas).width); // è¾“å‡º "800px"
      console.log('CSS é«˜åº¦:', getComputedStyle(canvas).height); // è¾“å‡º "800px"

      // è·å– HTML å±æ€§çš„æ–°å€¼
      console.log('ä¿®æ”¹åçš„ HTML width:', canvas.width); // è¾“å‡ºçª—å£å®½åº¦
      console.log('ä¿®æ”¹åçš„ HTML height:', canvas.height); // è¾“å‡ºçª—å£é«˜åº¦

      // å…¶ä»–ä»£ç ...
    })();
  </script>
</body>
</html>
```

---

### **æœ€ç»ˆç»“è®º**
- **`canvas.style.width` æ— æ³•è·å– CSS æ ·å¼è¡¨è®¾ç½®çš„å€¼**ï¼Œéœ€æ”¹ç”¨ `getComputedStyle()`ã€‚
- **HTML å±æ€§ï¼ˆ`canvas.width`ï¼‰å’Œ CSS æ ·å¼ï¼ˆ`width`ï¼‰æ˜¯ä¸¤ä¸ªç‹¬ç«‹çš„æ¦‚å¿µ**ï¼Œéœ€æ ¹æ®éœ€æ±‚é€‰æ‹©åˆé€‚çš„è·å–æ–¹å¼ã€‚

[Jsï¼šDOMä¸­çš„æ ·å¼ï¼ˆåŒ…å«è¡Œå†…æ ·å¼ã€æ»šåŠ¨åŒºã€å¯è§åŒºç­‰ï¼‰](https://blog.csdn.net/Y1914960928/article/details/145288336?spm=1001.2101.3001.6650.3&utm_medium=distribute.pc_relevant.none-task-blog-2%7Edefault%7EYuanLiJiHua%7EPosition-3-145288336-blog-140862685.235%5Ev43%5Epc_blog_bottom_relevance_base5&depth_1-utm_source=distribute.pc_relevant.none-task-blog-2%7Edefault%7EYuanLiJiHua%7EPosition-3-145288336-blog-140862685.235%5Ev43%5Epc_blog_bottom_relevance_base5&utm_relevant_index=4)

## forå¾ªç¯ let å£°æ˜å‰åå½±å“æ€§èƒ½é—®é¢˜
### æ€§èƒ½ä¸ijæ˜¯å¦è¢«å—åŒ…è£¹æœ‰å…³ï¼Œijå…¨è¢«åŒ…è£¹åœ¨å—å†… > ijå…¶ä¸­ä¸€ä¸ªå˜é‡è¢«å—åŒ…è£¹ > ijå…¨æš´éœ²åœ¨å—å¤–
```javaScript
 // timing
    //test1 test2 éƒ½æ²¡ç”¨å—åŒ…è£¹ test1 i j æš´éœ²åœ¨å¤–ï¼Œtest2 i j è¢«forå—åŒ…è£¹äº†ï¼Œi j ä¸æš´éœ²åœ¨å¤–
    console.time('test1');
    let i = 0;
    let j = 0;
    for (i = 0; i < 100000000; i++) {
      j = i;
    }
    console.timeEnd('test1');//test1: 641.403076171875 ms

    console.time('test2');
    for (let i = 0; i < 100000000; i++) {
      let j = i;
    }
    console.timeEnd('test2');//test2: 168.1298828125 ms

    // test1ä½¿ç”¨å—{}åŒ…è£¹ å’Œ test2ä½¿ç”¨å—{}åŒ…è£¹ è€—æ—¶å·®ä¸å¤š
    {
      console.time('test1ä½¿ç”¨å—{}åŒ…è£¹');
      let i = 0;
      let j = 0;
      for (i = 0; i < 100000000; i++) {
        j = i;
      }
      console.timeEnd('test1ä½¿ç”¨å—{}åŒ…è£¹');// test1ä½¿ç”¨å—{ } åŒ…è£¹: 178.97412109375 ms
    }

    {
      console.time('test2ä½¿ç”¨å—{}åŒ…è£¹');
      for (let i = 0; i < 100000000; i++) {
        let j = i;
      }
      console.timeEnd('test2ä½¿ç”¨å—{}åŒ…è£¹');// test2ä½¿ç”¨å—{ } åŒ…è£¹: 188.85498046875 ms
    }

    // test3 test4 éƒ½æœªæ²¡ç”¨å—åŒ…è£¹ test3 i1 æš´éœ²åœ¨å¤–ï¼Œtest4 j2 æš´éœ²åœ¨å¤– è€—æ—¶å·®ä¸å¤š
    console.time('test3');
    let i1 = 0;
    for (i1 = 0; i1 < 100000000; i1++) {
      let j1 = i1;
    }
    console.timeEnd('test3'); //test3: 368.987060546875 ms

    console.time('test4');
    let j2 = 0;
    for (let i2 = 0; i2 < 100000000; i2++) {
      j2 = i2;
    }
    console.timeEnd('test4'); //test4: 355.783203125 ms

    {
      console.time('test5');
      let i1 = 0;
      for (i1 = 0; i1 < 100000000; i1++) {
        let j1 = i1;
      }
      console.timeEnd('test5'); //test5: 187.072021484375 ms
    }

    {
      console.time('test6');
      let j2 = 0;
      for (let i2 = 0; i2 < 100000000; i2++) {
        j2 = i2;
      }
      console.timeEnd('test6'); //test6: 199.561767578125 ms
    }
```
### æ€è€ƒ
å—¯ï¼Œç”¨æˆ·é—®çš„æ˜¯ä¸ºä»€ä¹ˆtest1å’Œtest2çš„æ—¶é—´å·®å¼‚é‚£ä¹ˆå¤§ã€‚é¦–å…ˆï¼Œæˆ‘å¾—çœ‹çœ‹ä»–ä»¬çš„ä»£ç æœ‰ä»€ä¹ˆä¸åŒã€‚test1çš„å¾ªç¯é‡Œç”¨äº†å¤–å±‚çš„å˜é‡iå’Œjï¼Œè€Œtest2é‡Œç”¨çš„æ˜¯letå£°æ˜çš„iã€‚ é¦–å…ˆæƒ³åˆ°çš„æ˜¯å˜é‡ä½œç”¨åŸŸçš„é—®é¢˜ã€‚åœ¨test1ä¸­ï¼Œiå’Œjæ˜¯ç”¨varæˆ–è€…å…¨å±€å£°æ˜çš„ï¼Ÿä¸ï¼Œè¿™é‡Œç”¨æˆ·ç”¨çš„æ˜¯letï¼Œä½†test1ä¸­çš„iå’Œjæ˜¯å®šä¹‰åœ¨å¾ªç¯å¤–éƒ¨çš„ã€‚è€Œtest2çš„iæ˜¯å®šä¹‰åœ¨forå¾ªç¯é‡Œçš„ï¼Œæ‰€ä»¥æ¯æ¬¡å¾ªç¯iéƒ½æ˜¯å—çº§ä½œç”¨åŸŸçš„ï¼Œå¯èƒ½æ€§èƒ½æ›´å¥½ï¼Ÿ æˆ–è€…ï¼Œå¯èƒ½æ˜¯å› ä¸ºå˜é‡æå‡æˆ–è€…ä½œç”¨åŸŸé“¾çš„ä¸åŒå¯¼è‡´çš„æ€§èƒ½å·®å¼‚ã€‚æ¯”å¦‚ï¼Œåœ¨test1ä¸­ï¼Œæ¯æ¬¡å¾ªç¯éƒ½è¦è®¿é—®å¤–å±‚çš„iå’Œjï¼Œè€Œtest2ä¸­çš„iæ˜¯å±€éƒ¨å˜é‡ï¼Œè®¿é—®æ›´å¿«ï¼Ÿ å¦å¤–ï¼Œtest1çš„jè¢«èµ‹å€¼ä¸ºiï¼Œå¯èƒ½æ¯æ¬¡å¾ªç¯éƒ½è¦è¿›è¡Œèµ‹å€¼æ“ä½œï¼Œè€Œtest2çš„jåœ¨å¾ªç¯å†…éƒ¨å£°æ˜ï¼Œä½†åŒæ ·èµ‹å€¼ã€‚ä¸è¿‡ï¼Œå¯èƒ½test2çš„å˜é‡iæ˜¯å—çº§ä½œç”¨åŸŸï¼Œå¼•æ“ä¼˜åŒ–æ›´å¥½ï¼Œæ¯”å¦‚é¿å…å˜é‡æå‡å¸¦æ¥çš„æ€§èƒ½å¼€é”€ï¼Ÿ æˆ–è€…ï¼Œtest1ä¸­çš„iå’Œjæ˜¯å¤–å±‚å˜é‡ï¼Œæ¯æ¬¡å¾ªç¯ä¿®æ”¹å®ƒä»¬çš„å€¼å¯èƒ½å¯¼è‡´æ›´å¤šçš„å†…å­˜è®¿é—®æˆ–å˜é‡æŸ¥æ‰¾æ—¶é—´ï¼Œè€Œtest2çš„iæ˜¯å±€éƒ¨å˜é‡ï¼Œä½œç”¨åŸŸæ›´å°ï¼Œå¼•æ“å¯ä»¥æ›´é«˜æ•ˆåœ°å¤„ç†ï¼Ÿ å¦å¤–ï¼Œå¯èƒ½test1çš„å¾ªç¯å› ä¸ºå˜é‡iåœ¨å¤–éƒ¨å®šä¹‰ï¼Œå¯¼è‡´æ¯æ¬¡è¿­ä»£éƒ½è¦é‡æ–°æŸ¥æ‰¾å˜é‡ï¼Œè€Œtest2çš„iæ˜¯å±€éƒ¨å˜é‡ï¼Œå¯èƒ½è¢«ä¼˜åŒ–ä¸ºå¯„å­˜å™¨å˜é‡ï¼Œå‡å°‘äº†æŸ¥æ‰¾æ—¶é—´ï¼Ÿ å†æƒ³ï¼Œtest1çš„jæ˜¯å¤–éƒ¨å˜é‡ï¼Œæ¯æ¬¡èµ‹å€¼éƒ½è¦ä¿®æ”¹å¤–å±‚çš„å˜é‡ï¼Œè€Œtest2çš„jæ˜¯æ¯æ¬¡å¾ªç¯å†…éƒ¨å£°æ˜çš„ï¼Œä½†åŒæ ·èµ‹å€¼ã€‚ä¸è¿‡test2çš„jå¯èƒ½æ¯æ¬¡å¾ªç¯éƒ½é‡æ–°å£°æ˜ï¼Œä½†å› ä¸ºletæ˜¯å—çº§ä½œç”¨åŸŸï¼Œå¯èƒ½åœ¨å¾ªç¯å†…éƒ¨æ›´é«˜æ•ˆï¼Ÿ æˆ–è€…ï¼Œå¯èƒ½test1çš„å¾ªç¯å› ä¸ºiå’Œjæ˜¯å¤–å±‚å˜é‡ï¼Œå¯¼è‡´å¾ªç¯æ— æ³•è¢«æŸäº›ä¼˜åŒ–ï¼Œæ¯”å¦‚å¾ªç¯å±•å¼€ï¼Œè€Œtest2çš„å˜é‡æ˜¯å±€éƒ¨çš„ï¼Œå¯ä»¥è¢«æ›´å¥½åœ°ä¼˜åŒ–ï¼Ÿ æˆ–è€…ï¼Œå¯èƒ½test2çš„ä»£ç æ›´ç®€æ´ï¼Œæ¯”å¦‚æ²¡æœ‰å¤–å±‚çš„å˜é‡ï¼Œæ‰€ä»¥å¼•æ“å¯ä»¥æ›´å¿«åœ°æ‰§è¡Œï¼Ÿ å¦å¤–ï¼Œçœ‹ä»£ç ä¸­çš„æ³¨é‡Šï¼Œtest1ç”¨äº†7.5ç§’ï¼Œtest2ç”¨äº†2.3ç§’ï¼Œå·®å¼‚å¾ˆå¤§ã€‚è¿™å¯èƒ½æ˜¯å› ä¸ºtest1ä¸­çš„iå’Œjæ˜¯å¤–å±‚å˜é‡ï¼Œå¯¼è‡´æ¯æ¬¡å¾ªç¯éƒ½è¦è®¿é—®å¤–å±‚ä½œç”¨åŸŸï¼Œè€Œtest2çš„iæ˜¯å±€éƒ¨å˜é‡ï¼Œè®¿é—®æ›´å¿«ï¼Ÿ æˆ–è€…ï¼Œtest1çš„jè¢«å¤šæ¬¡èµ‹å€¼ï¼Œè€Œtest2çš„jå¯èƒ½æ²¡æœ‰è¢«æŒç»­ä¿®æ”¹ï¼Ÿä¸è¿‡test2çš„jæ¯æ¬¡å¾ªç¯éƒ½ä¼šé‡æ–°å£°æ˜å—ï¼Ÿä¸ï¼Œtest2çš„jåœ¨å¾ªç¯å†…éƒ¨å£°æ˜ï¼Œæ¯æ¬¡å¾ªç¯éƒ½ä¼šé‡æ–°å£°æ˜å—ï¼Ÿä¸ï¼Œå› ä¸ºforå¾ªç¯çš„let iæ˜¯æ¯æ¬¡å¾ªç¯éƒ½åˆ›å»ºæ–°çš„iï¼Œä½†jæ˜¯åœ¨å¾ªç¯ä½“å†…å£°æ˜çš„ï¼Œæ¯”å¦‚æ¯æ¬¡å¾ªç¯éƒ½ä¼šé‡æ–°å£°æ˜jå—ï¼Ÿ æ¯”å¦‚ï¼Œåœ¨test2çš„å¾ªç¯ä¸­ï¼Œæ¯æ¬¡å¾ªç¯çš„let j = i;ï¼Œè¿™æ ·jæ¯æ¬¡éƒ½æ˜¯æ–°çš„å—çº§å˜é‡ï¼Œå¯èƒ½æ¯æ¬¡å¾ªç¯éƒ½è¦åˆ†é…æ–°çš„å˜é‡ï¼Œä½†å¯èƒ½å› ä¸ºæ˜¯å±€éƒ¨å˜é‡ï¼Œæ€§èƒ½æ›´å¥½ï¼Ÿ æˆ–è€…ï¼Œå¯èƒ½test1çš„iå’Œjæ˜¯å¤–å±‚å˜é‡ï¼Œæ¯æ¬¡å¾ªç¯ä¿®æ”¹å®ƒä»¬çš„å€¼ä¼šå¯¼è‡´æ›´å¤šçš„å†…å­˜å†™å…¥æ“ä½œï¼Œè€Œtest2çš„iæ˜¯å±€éƒ¨å˜é‡ï¼Œå¯èƒ½è¢«ä¼˜åŒ–ä¸ºå¯„å­˜å™¨å˜é‡ï¼Œå‡å°‘å†…å­˜è®¿é—®ï¼Ÿ å¦ä¸€ä¸ªå¯èƒ½æ€§æ˜¯å˜é‡æå‡çš„é—®é¢˜ã€‚åœ¨test1ä¸­ï¼Œiå’Œjæ˜¯ç”¨letå£°æ˜åœ¨å¾ªç¯å¤–éƒ¨ï¼Œæ‰€ä»¥å®ƒä»¬çš„ä½œç”¨åŸŸæ˜¯æ•´ä¸ªå‡½æ•°ï¼Œè€Œtest2çš„iæ˜¯å—çº§ä½œç”¨åŸŸï¼Œå¯èƒ½è®©å¼•æ“æ›´é«˜æ•ˆåœ°å¤„ç†ï¼Ÿ æˆ–è€…ï¼Œå¯èƒ½test1çš„ä»£ç å› ä¸ºå˜é‡iåœ¨å¤–éƒ¨å®šä¹‰ï¼Œå¯¼è‡´å¾ªç¯æ— æ³•è¢«æŸäº›ä¼˜åŒ–ï¼Œæ¯”å¦‚å¾ªç¯ä¸å˜é‡çš„ä¼˜åŒ–ï¼Ÿ æˆ–è€…ï¼Œtest2çš„ä»£ç åœ¨å¾ªç¯å†…éƒ¨ä½¿ç”¨let iï¼Œè¿™ä½¿å¾—içš„ä½œç”¨åŸŸä»…é™äºå¾ªç¯ä½“å†…ï¼Œè€Œtest1çš„iæ˜¯å¤–éƒ¨å˜é‡ï¼Œæ¯æ¬¡å¾ªç¯éƒ½è¦é‡æ–°èµ‹å€¼ï¼Œå¯èƒ½äº§ç”Ÿæ›´å¤šçš„å†…å­˜æ“ä½œï¼Ÿ æˆ–è€…ï¼Œtest1çš„jæ˜¯å¤–å±‚å˜é‡ï¼Œæ¯æ¬¡å¾ªç¯éƒ½è¦ä¿®æ”¹å®ƒï¼Œè€Œtest2çš„jæ˜¯æ¯æ¬¡å¾ªç¯å†…éƒ¨å£°æ˜çš„å˜é‡ï¼Œå¯èƒ½è¢«ä¼˜åŒ–ä¸ºä¸´æ—¶å˜é‡ï¼Œå‡å°‘å†…å­˜è®¿é—®ï¼Ÿ æ€»ç»“å¯èƒ½çš„åŸå› ï¼štest1çš„å˜é‡iå’Œjæ˜¯å¤–å±‚å˜é‡ï¼Œæ¯æ¬¡å¾ªç¯éƒ½è¦è®¿é—®å’Œä¿®æ”¹å®ƒä»¬ï¼Œå¯¼è‡´æ›´å¤šçš„å†…å­˜æ“ä½œå’Œä½œç”¨åŸŸæŸ¥æ‰¾æ—¶é—´ï¼Œè€Œtest2çš„å˜é‡iæ˜¯å±€éƒ¨å˜é‡ï¼Œä½œç”¨åŸŸæ›´å°ï¼Œå¼•æ“å¯ä»¥æ›´é«˜æ•ˆåœ°å¤„ç†ï¼Œæ¯”å¦‚ä½¿ç”¨å¯„å­˜å™¨å­˜å‚¨ï¼Œå‡å°‘è®¿é—®æ—¶é—´ã€‚æ­¤å¤–ï¼Œtest2çš„jåœ¨æ¯æ¬¡å¾ªç¯ä¸­å£°æ˜ä¸ºletï¼Œå¯èƒ½æ›´é«˜æ•ˆï¼Œæˆ–è€…test2çš„ä»£ç ç»“æ„è®©å¼•æ“èƒ½å¤Ÿè¿›è¡Œæ›´å¥½çš„ä¼˜åŒ–ï¼Œæ¯”å¦‚å¾ªç¯å±•å¼€ï¼Œä»è€Œæ‰§è¡Œæ›´å¿«ã€‚
### **æ—¶é—´å·®å¼‚çš„ä¸»è¦åŸå› **

#### **1. å˜é‡ä½œç”¨åŸŸçš„å·®å¼‚**
- **`test1` çš„ä»£ç **ï¼š
  ```javascript
  let i = 0;        // å¤–å±‚å˜é‡ï¼ˆå‡½æ•°ä½œç”¨åŸŸï¼‰
  let j = 0;
  for (i = 0; i < 1e6; i++) {
    j = i;
  }
  ```
  - **é—®é¢˜**ï¼š`i` å’Œ `j` æ˜¯å¤–å±‚å˜é‡ï¼ˆå‡½æ•°ä½œç”¨åŸŸï¼‰ï¼Œæ¯æ¬¡å¾ªç¯éƒ½è¦ **é‡æ–°èµ‹å€¼** è¿™ä¸¤ä¸ªå˜é‡ã€‚
  - **æ€§èƒ½å¼€é”€**ï¼š
    - æ¯æ¬¡å¾ªç¯éƒ½è¦ä¿®æ”¹å¤–å±‚å˜é‡çš„å€¼ï¼Œæ¶‰åŠå†…å­˜çš„é¢‘ç¹è¯»å†™ã€‚
    - å¤–å±‚å˜é‡çš„æŸ¥æ‰¾è·¯å¾„è¾ƒé•¿ï¼ˆéœ€ä»å‡½æ•°ä½œç”¨åŸŸæŸ¥æ‰¾ï¼‰ï¼Œå¯¼è‡´æ€§èƒ½ä¸‹é™ã€‚

- **`test2` çš„ä»£ç **ï¼š
  ```javascript
  for (let i = 0; i < 1e6; i++) { // å—çº§ä½œç”¨åŸŸå˜é‡
    let j = i;                    // æ¯æ¬¡å¾ªç¯å£°æ˜æ–°å˜é‡
  }
  ```
  - **ä¼˜åŒ–ç‚¹**ï¼š
    - `i` æ˜¯å—çº§ä½œç”¨åŸŸå˜é‡ï¼ˆ`let` å£°æ˜ï¼‰ï¼Œæ¯æ¬¡å¾ªç¯è¿­ä»£æ—¶ï¼Œå¼•æ“å¯ä»¥å°†å…¶ä¼˜åŒ–ä¸º **å¯„å­˜å™¨å˜é‡**ï¼ˆæ— éœ€é¢‘ç¹å†…å­˜è®¿é—®ï¼‰ã€‚
    - `j` åœ¨å¾ªç¯ä½“å†…å£°æ˜ä¸º `let`ï¼Œæ¯æ¬¡è¿­ä»£éƒ½ä¼šé‡æ–°åˆ›å»ºæ–°å˜é‡ï¼Œä½†å› ä½œç”¨åŸŸè¾ƒå°ï¼Œæ€§èƒ½æŸè€—è¾ƒä½ã€‚

---

#### **2. å¼•æ“ä¼˜åŒ–å·®å¼‚**
- **`test1` çš„é™åˆ¶**ï¼š
  - å¤–å±‚å˜é‡ `i` å’Œ `j` çš„ä½œç”¨åŸŸè¾ƒå¤§ï¼ˆå‡½æ•°çº§ï¼‰ï¼ŒJavaScript å¼•æ“éš¾ä»¥è¿›è¡Œ **å¾ªç¯å±•å¼€**ï¼ˆLoop Unrollingï¼‰ç­‰ä¼˜åŒ–ã€‚
  - æ¯æ¬¡å¾ªç¯éƒ½è¦ä¿®æ”¹å¤–å±‚å˜é‡ï¼Œå¯¼è‡´ **å‰¯ä½œç”¨**ï¼ˆSide Effectsï¼‰ï¼Œé™åˆ¶äº†å¼•æ“çš„ä¼˜åŒ–ç©ºé—´ã€‚

- **`test2` çš„ä¼˜åŠ¿**ï¼š
  - `i` æ˜¯å—çº§ä½œç”¨åŸŸå˜é‡ï¼Œä¸”æ— å¤–éƒ¨ä¾èµ–ï¼ˆä»…åœ¨å¾ªç¯å†…éƒ¨ä½¿ç”¨ï¼‰ï¼Œå¼•æ“å¯å®‰å…¨åœ°è¿›è¡Œ **å¾ªç¯å±•å¼€** æˆ– **å†…è”ä¼˜åŒ–**ã€‚
  - `j` çš„å£°æ˜å’Œèµ‹å€¼åœ¨å¾ªç¯ä½“å†…ï¼Œå±äº **æ— å‰¯ä½œç”¨** çš„æ“ä½œï¼Œå¼•æ“å¯è¿›ä¸€æ­¥ä¼˜åŒ–ã€‚

---

#### **3. å…·ä½“æ€§èƒ½å¯¹æ¯”**
| **æŒ‡æ ‡**       | `test1`ï¼ˆ7.58msï¼‰      | `test2`ï¼ˆ2.35msï¼‰    |
| -------------- | ---------------------- | -------------------- |
| å˜é‡ä½œç”¨åŸŸ     | å‡½æ•°çº§ï¼ˆå…¨å±€ä½œç”¨åŸŸï¼‰   | å—çº§ï¼ˆå±€éƒ¨ä½œç”¨åŸŸï¼‰   |
| å¼•æ“ä¼˜åŒ–ç©ºé—´   | å—é™ï¼ˆå­˜åœ¨å‰¯ä½œç”¨ï¼‰     | å¹¿é˜”ï¼ˆæ— å‰¯ä½œç”¨ï¼‰     |
| å†…å­˜è®¿é—®é¢‘ç‡   | é«˜ï¼ˆé¢‘ç¹ä¿®æ”¹å¤–å±‚å˜é‡ï¼‰ | ä½ï¼ˆå¯„å­˜å™¨æˆ–æ ˆä¼˜åŒ–ï¼‰ |
| å¾ªç¯å±•å¼€å¯èƒ½æ€§ | ä½                     | é«˜                   |

---

### **ç»“è®º**
`test2` çš„æ—¶é—´æ›´çŸ­ï¼Œ**ä¸»è¦åŸå› **æ˜¯ï¼š
1. **å—çº§ä½œç”¨åŸŸå˜é‡**ï¼ˆ`let i`ï¼‰ä½¿å¼•æ“èƒ½å¤Ÿé«˜æ•ˆä¼˜åŒ–å¾ªç¯ã€‚
2. **æ— å‰¯ä½œç”¨**çš„å˜é‡æ“ä½œï¼ˆ`let j = i`ï¼‰å…è®¸æ›´æ¿€è¿›çš„ä¼˜åŒ–ç­–ç•¥ã€‚
3. **å¯„å­˜å™¨/æ ˆä¼˜åŒ–**å‡å°‘äº†å†…å­˜è¯»å†™å¼€é”€ã€‚

---

### **ä¼˜åŒ–å»ºè®®**
è‹¥éœ€æå‡ç±»ä¼¼ä»£ç çš„æ€§èƒ½ï¼Œå»ºè®®ï¼š
```javascript
// ä½¿ç”¨å—çº§ä½œç”¨åŸŸå˜é‡ï¼ˆlet/constï¼‰
for (let i = 0; i < N; i++) {
  const j = i; // æˆ–ç›´æ¥ä½¿ç”¨ i è€Œä¸é¢å¤–å£°æ˜ j
  // ...å…¶ä»–æ“ä½œ
}
```

## é—­åŒ…å‡½æ•° ç®­å¤´å‡½æ•° this æŒ‡å‘é—®é¢˜
## é˜²æŠ–å’ŒèŠ‚æµ
### é˜²æŠ–
```mermaid
flowchart TD  
    A[è°ƒç”¨é˜²æŠ–å‡½æ•°] --> B[ä¿å­˜ä¸Šä¸‹æ–‡å’Œå‚æ•°]  
    B --> C{æ˜¯å¦ç«‹å³æ‰§è¡Œï¼Ÿ}  
    C -->|æ˜¯| D[ç«‹å³æ‰§è¡Œfunc]  
    C -->|å¦| E[å»¶è¿Ÿæ‰§è¡Œ]  
    D --> F[æ¸…é™¤è¶…æ—¶å®šæ—¶å™¨]  
    E --> F  
    F --> G[è®¾ç½®æ–°å®šæ—¶å™¨]  
    G --> H[ç»“æŸæœ¬æ¬¡è°ƒç”¨]  
    G --> I{å®šæ—¶å™¨è§¦å‘ï¼Ÿ}  
    I --> J[æ‰§è¡Œå»¶è¿Ÿä»»åŠ¡]  
    J --> K[ç»“æŸå»¶è¿Ÿæµç¨‹]  
```
## è¡¨å•form submit e.targetå’Œe.currentTargetçš„ç›¸åŒé—®é¢˜
```html
    <form class="add-items">
      <input type="text" name="item" placeholder="Item Name" required>
      <input type="submit" value="+ Add Item">
    </form>
```
```javascript
  function addItem(e) {
    // é˜»æ­¢è¡¨å•çš„é»˜è®¤æäº¤è¡Œä¸º
    e.preventDefault();
    // è·å–å½“å‰çš„è¾“å…¥å†…å®¹
    console.log(e.target, e.currentTarget);//éƒ½æ˜¯formè¡¨å•
    console.log(e.target === e.currentTarget);//true
  }
  addItems.addEventListener('submit', addItem)
```
åœ¨ä½ çš„ä»£ç ä¸­ï¼Œ`e.target`å’Œ`e.currentTarget`éƒ½æŒ‡å‘è¡¨å•å…ƒç´ çš„åŸå› å¦‚ä¸‹ï¼š

---

### **å…³é”®åŸå› **
1. **äº‹ä»¶ç±»å‹æ˜¯`submit`**  
   ä½ ç›‘å¬çš„æ˜¯è¡¨å•çš„`submit`äº‹ä»¶ï¼Œè€Œ`submit`äº‹ä»¶çš„**ç›®æ ‡å§‹ç»ˆæ˜¯è¡¨å•æœ¬èº«**ï¼Œè€Œéè§¦å‘æäº¤çš„`<input type="submit">`æŒ‰é’®ã€‚  
   - å½“ç”¨æˆ·ç‚¹å‡»æäº¤æŒ‰é’®æ—¶ï¼Œæµè§ˆå™¨ä¼šè‡ªåŠ¨è§¦å‘è¡¨å•çš„`submit`äº‹ä»¶ï¼Œæ­¤æ—¶äº‹ä»¶çš„ç›®æ ‡ï¼ˆ`e.target`ï¼‰æ˜¯è¡¨å•ï¼Œè€ŒéæŒ‰é’®ã€‚

2. **`e.target`çš„è¡Œä¸º**  
   - `submit`äº‹ä»¶çš„ç›®æ ‡æ˜¯**è§¦å‘äº‹ä»¶çš„å…ƒç´ **ï¼ˆå³è¡¨å•ï¼‰ï¼Œè€Œä¸æ˜¯ç›´æ¥è¢«ç‚¹å‡»çš„æŒ‰é’®ã€‚  
   - å¦‚æœç›‘å¬çš„æ˜¯æŒ‰é’®çš„`click`äº‹ä»¶ï¼Œåˆ™`e.target`ä¼šæ˜¯æŒ‰é’®ï¼Œä½†è¿™é‡Œç›‘å¬çš„æ˜¯è¡¨å•çš„`submit`äº‹ä»¶ã€‚

3. **`e.currentTarget`çš„å›ºå®šæ€§**  
   - äº‹ä»¶ç›‘å¬å™¨ç»‘å®šåœ¨è¡¨å•ï¼ˆ`addItems`ï¼‰ä¸Šï¼Œå› æ­¤`e.currentTarget`å§‹ç»ˆæ˜¯è¡¨å•ã€‚

---

### **ä»£ç éªŒè¯**
åœ¨ä½ çš„ä»£ç ä¸­ï¼š
```javascript
// ç›‘å¬çš„æ˜¯è¡¨å•çš„submitäº‹ä»¶
addItems.addEventListener('submit', addItem); 

function addItem(e) {
  console.log(e.target === e.currentTarget); // è¾“å‡º trueï¼ˆä¸¤è€…éƒ½æ˜¯è¡¨å•ï¼‰
}
```
- **è¾“å‡ºç»“æœ**ï¼š  
  `e.target`å’Œ`e.currentTarget`å‡æŒ‡å‘è¡¨å•å…ƒç´ ï¼Œå› ä¸º`submit`äº‹ä»¶çš„è§¦å‘ç›®æ ‡å°±æ˜¯è¡¨å•ã€‚

---

### **å¯¹æ¯”åœºæ™¯**
å¦‚æœç›‘å¬çš„æ˜¯æŒ‰é’®çš„`click`äº‹ä»¶ï¼š
```javascript
// ç›‘å¬æŒ‰é’®çš„clickäº‹ä»¶
const submitBtn = document.querySelector('.add-items [type="submit"]');
submitBtn.addEventListener('click', handleClick);

function handleClick(e) {
  console.log(e.target); // è¾“å‡ºæŒ‰é’®å…ƒç´ ï¼ˆ<input type="submit">ï¼‰
  console.log(e.currentTarget); // è¾“å‡ºæŒ‰é’®å…ƒç´ ï¼ˆå› ä¸ºç›‘å¬å™¨ç»‘å®šåœ¨æŒ‰é’®ä¸Šï¼‰
}
```
æ­¤æ—¶`e.target`å’Œ`e.currentTarget`å‡æŒ‡å‘æŒ‰é’®ã€‚

---

### **æ€»ç»“**
- **`submit`äº‹ä»¶ç‰¹æ€§**ï¼šå…¶äº‹ä»¶ç›®æ ‡å§‹ç»ˆæ˜¯è¡¨å•ï¼Œè€Œéè§¦å‘æäº¤çš„æŒ‰é’®ã€‚
- **äº‹ä»¶ç±»å‹é€‰æ‹©**ï¼š  
  - è‹¥éœ€æ“ä½œæŒ‰é’®ï¼Œåº”ç›‘å¬æŒ‰é’®çš„`click`äº‹ä»¶ã€‚  
  - è‹¥éœ€å¤„ç†è¡¨å•æäº¤é€»è¾‘ï¼Œç›‘å¬è¡¨å•çš„`submit`äº‹ä»¶æ˜¯æ­£ç¡®çš„åšæ³•ï¼ˆæ­¤æ—¶éœ€é€šè¿‡è¡¨å•å…ƒç´ è·å–è¾“å…¥å€¼ï¼‰ã€‚

---

### **å¦‚ä½•è·å–è¾“å…¥å€¼ï¼Ÿ**
åœ¨ä½ çš„ä»£ç ä¸­ï¼Œåº”é€šè¿‡è¡¨å•å…ƒç´ ï¼ˆ`e.currentTarget`ï¼‰è·å–è¾“å…¥å­—æ®µï¼š
```javascript
function addItem(e) {
  e.preventDefault();
  const inputElement = e.currentTarget.querySelector('[name="item"]');
  const text = inputElement.value; // æ­£ç¡®è·å–è¾“å…¥å†…å®¹
  console.log(text);
}
```
## e.currentTargetå’Œe.targetçš„åŒºåˆ«
```html
    <div id="a">
      <div id="b">
        <div id="c">
          <div id="d">å“ˆå“ˆå“ˆå“ˆå“ˆ</div>
        </div>
      </div>
    </div>
```
```javascript
const a = document.getElementById('a')
const b = document.getElementById('b')
const c = document.getElementById('c')
const d = document.getElementById('d')
a.addEventListener('click', (e) => {
  const {
    target,
    currentTarget
  } = e
  console.log(`targetæ˜¯${target.id}`)
  console.log(`currentTargetæ˜¯${currentTarget.id}`)
})
b.addEventListener('click', (e) => {
  const {
    target,
    currentTarget
  } = e
  console.log(`targetæ˜¯${target.id}`)
  console.log(`currentTargetæ˜¯${currentTarget.id}`)
})
c.addEventListener('click', (e) => {
  const {
    target,
    currentTarget
  } = e
  console.log(`targetæ˜¯${target.id}`)
  console.log(`currentTargetæ˜¯${currentTarget.id}`)
})
d.addEventListener('click', (e) => {
  const {
    target,
    currentTarget
  } = e
  console.log(`targetæ˜¯${target.id}`)
  console.log(`currentTargetæ˜¯${currentTarget.id}`)
})
```
```javascript
targetæ˜¯d currentTargetæ˜¯d
targetæ˜¯d currentTargetæ˜¯c
targetæ˜¯d currentTargetæ˜¯b
targetæ˜¯d currentTargetæ˜¯a
```

## map Array.prototype.mapçš„ç”¨æ³•
æ˜¯çš„ï¼Œåœ¨ `Array.prototype.map` æ–¹æ³•çš„å›è°ƒå‡½æ•°ä¸­ï¼Œ**ç¬¬äºŒä¸ªå‚æ•°æ˜¯å½“å‰é¡¹çš„ç´¢å¼•ï¼ˆ`index`ï¼‰**ã€‚ä»¥ä¸‹æ˜¯å…·ä½“è¯´æ˜ï¼š

---

### **`map` æ–¹æ³•çš„å‚æ•°å®šä¹‰**
`map` å›è°ƒå‡½æ•°çš„å‚æ•°é¡ºåºä¸ºï¼š
```javascript
(arrayItem, index, array) => {}
```
- **ç¬¬ä¸€ä¸ªå‚æ•°**ï¼šå½“å‰å¤„ç†çš„å…ƒç´ ï¼ˆå¦‚ä»£ç ä¸­çš„ `plate`ï¼‰ã€‚
- **ç¬¬äºŒä¸ªå‚æ•°**ï¼šå½“å‰å…ƒç´ çš„ **ç´¢å¼•**ï¼ˆä» `0` å¼€å§‹é€’å¢ï¼‰ã€‚
- **ç¬¬ä¸‰ä¸ªå‚æ•°**ï¼šåŸæ•°ç»„ï¼ˆé€šå¸¸ä¸å¸¸ç”¨ï¼Œå¯å¿½ç•¥ï¼‰ã€‚

---

### **ä½ çš„ä»£ç ä¸­çš„ `i` æ˜¯ç´¢å¼•**
åœ¨ä½ çš„ä»£ç ç‰‡æ®µä¸­ï¼š
```javascript
plates.map((plate, i) => { // i æ˜¯å½“å‰é¡¹çš„ç´¢å¼•
  return `
    <li>
      <input type="checkbox" data-index=${i} id="item${i}" ... />
      ...
    </li>
  `;
});
```
- **`i` çš„ä½œç”¨**ï¼š
  1. **ç”Ÿæˆå”¯ä¸€æ ‡è¯†**ï¼šé€šè¿‡ `id="item${i}"` ä¸ºæ¯ä¸ªå¤é€‰æ¡†åˆ›å»ºå”¯ä¸€ `id`ï¼ˆå¦‚ `item0`ã€`item1`ï¼‰ã€‚
  2. **è®°å½•æ•°æ®ä½ç½®**ï¼šé€šè¿‡ `data-index=${i}` å°†æ•°ç»„ç´¢å¼•å­˜å‚¨ä¸ºè‡ªå®šä¹‰å±æ€§ï¼Œæ–¹ä¾¿åç»­æ“ä½œï¼ˆå¦‚ç‚¹å‡»å¤é€‰æ¡†æ—¶å®šä½åˆ°å¯¹åº”çš„æ•°æ®é¡¹ï¼‰ã€‚

---

### **ä¸ºä»€ä¹ˆéœ€è¦ç´¢å¼•ï¼Ÿ**
- **å…³è”æ•°æ®å’Œ DOM**ï¼š  
  å½“ç”¨æˆ·ç‚¹å‡»å¤é€‰æ¡†æ—¶ï¼Œé€šè¿‡ `data-index` å¯ä»¥ç›´æ¥è·å–è¯¥å…ƒç´ åœ¨ `items` æ•°ç»„ä¸­çš„ä½ç½®ï¼Œä»è€Œæ›´æ–°å¯¹åº”é¡¹çš„ `done` çŠ¶æ€ï¼š
  ```javascript
  function toggleDone(e) {
    const index = e.target.dataset.index; // é€šè¿‡ç´¢å¼•æ‰¾åˆ°æ•°æ®é¡¹
    items[index].done = !items[index].done;
    // ...
  }
  ```

- **ç¡®ä¿å”¯ä¸€æ€§**ï¼š  
  æ¯ä¸ªå¤é€‰æ¡†çš„ `id` å¿…é¡»å”¯ä¸€ï¼Œ`i` ç¡®ä¿äº†è¿™ä¸€ç‚¹ï¼ˆå¦‚ `item0`ã€`item1` ç­‰ï¼‰ã€‚

---

### **æ€»ç»“**
- **`map` çš„ç¬¬äºŒä¸ªå‚æ•°æ˜¯ç´¢å¼•**ï¼Œåœ¨ä½ çš„ä»£ç ä¸­æ­£ç¡®ä½¿ç”¨äº†å®ƒã€‚
- **ç”¨é€”**ï¼šç”Ÿæˆå”¯ä¸€æ ‡è¯†ã€å…³è”æ•°æ®ä¸ DOM å…ƒç´ ã€å®šä½æ•°ç»„ä¸­çš„å…·ä½“é¡¹ã€‚

å¦‚æœè¿˜æœ‰å…¶ä»–ç–‘é—®ï¼Œå¯ä»¥è¿›ä¸€æ­¥æ¢è®¨ï¼ ğŸ˜Š

## ç®­å¤´å‡½æ•°æŒ‡å‘é—®é¢˜ åœ¨äº‹ä»¶å¤„ç†å‡½æ•°ä¸­ï¼Œä½ ä½¿ç”¨äº†ç®­å¤´å‡½æ•°ï¼Œå¯¼è‡´ this ä¸å†æŒ‡å‘äº‹ä»¶çš„ç›®æ ‡å…ƒç´ ï¼Œè€Œæ˜¯ç»§æ‰¿å¤–å±‚å‡½æ•°çš„ thisï¼ˆå…¨å±€å¯¹è±¡ windowï¼‰

## reduce è¯¦è§£
```javascript
//reduceè¯¦è§£
;(function name(params) {

    const getMax = (a, b) => {
        console.log(a, b)
        return Math.max(a, b)
    }
    // ä»ç´¢å¼• 0 å¼€å§‹ä¸ºæ•°ç»„ä¸­çš„æ¯ä¸ªå…ƒç´ è°ƒç”¨å›è°ƒå‡½æ•°
    [1, 100].reduce(getMax, 50); // 100
    console.log('--------------------------');
    [50].reduce(getMax, 10); // 50
    console.log('--------------------------');
    // ä»…ä¸ºç´¢å¼• 1 å¤„çš„å…ƒç´ è°ƒç”¨å›è°ƒå‡½æ•°
    [1, 100].reduce(getMax); // 100
    console.log('--------------------------');
    // ä¸è°ƒç”¨å›è°ƒå‡½æ•°
    [50].reduce(getMax); // 50
    console.log('--------------------------');
    [].reduce(getMax, 1); // 1
    console.log('--------------------------');
    // [].reduce(getMax); // TypeError

    //æ±‚å¯¹è±¡æ•°ç»„ä¸­å€¼çš„æ€»å’Œ
    // ä¸ºäº†å¯¹åŒ…å«åœ¨å¯¹è±¡æ•°ç»„ä¸­çš„å€¼è¿›è¡Œæ±‚å’Œï¼Œå¿…é¡»æä¾›ä¸€ä¸ª initialValueï¼Œä»¥ä¾¿æ¯ä¸ªé¡¹éƒ½é€šè¿‡å›è°ƒå‡½æ•°å¤„ç†ã€‚
    const objects = [{ x: 1 }, { x: 2 }, { x: 3 }];
    const sum = objects.reduce(
        (accumulator, currentValue) => accumulator + currentValue.x,
        0,
    );
    console.log(sum); // 6

    // å±•å¹³åµŒå¥—æ•°ç»„
    const flattened = [
        [0, 1],
        [2, 3],
        [4, 5],
    ].reduce((accumulator, currentValue) => accumulator.concat(currentValue), []);
    // flattened çš„å€¼æ˜¯ [0, 1, 2, 3, 4, 5]

    // ç»Ÿè®¡å¯¹è±¡ä¸­å€¼çš„å‡ºç°æ¬¡æ•°
    const names = ["Alice", "Bob", "Tiff", "Bruce", "Alice"];

    const countedNames = names.reduce((allNames, name) => {
        const currCount = allNames[name] ?? 0;
        return {
            ...allNames,
            [name]: currCount + 1,
        };
    }, {});
    // countedNames çš„å€¼æ˜¯ï¼š
    // { 'Alice': 2, 'Bob': 1, 'Tiff': 1, 'Bruce': 1 }

})()

//æŒ‰å±æ€§( )å¯¹å¯¹è±¡è¿›è¡Œåˆ†ç»„
const people = [
        { name: "Alice", age: 21 },
        { name: "Max", age: 20 },
        { name: "Jane", age: 20 },
    ];

    function groupBy(objectArray, property) {
        return objectArray.reduce((acc, obj) => {
            const key = obj[property];
            acc[key] = acc[key] ?? [];
            acc[key].push(obj)
            return acc
        }, {});
    }

    const groupedPeople = groupBy(people, "age");
    console.table(groupedPeople);
    // {
    //   20: [
    //     { name: 'Max', age: 20 },
    //     { name: 'Jane', age: 20 }
    //   ],
    //   21: [{ name: 'Alice', age: 21 }]
    // }
```
## && || ?? è¿ç®—ç¬¦çš„è¿ç”¨
åœ¨ JavaScript ä¸­ï¼Œ`&&`ã€`||` å’Œ `??` æ˜¯ä¸‰ä¸ªé€»è¾‘è¿ç®—ç¬¦ï¼Œå®ƒä»¬çš„**è¿ç”¨åœºæ™¯å’Œè¡Œä¸º**æœ‰æ˜¾è‘—åŒºåˆ«ã€‚ä»¥ä¸‹æ˜¯å®ƒä»¬çš„å…¸å‹åº”ç”¨åœºæ™¯å’Œå¯¹æ¯”ï¼š

---

### **1. `&&`ï¼ˆé€»è¾‘ä¸è¿ç®—ç¬¦ï¼‰**
#### **ä½œç”¨**  
- **è¿”å›ç¬¬ä¸€ä¸ªå‡å€¼ï¼ˆ`false`ã€`0`ã€`null`ã€`undefined`ã€`NaN`ã€ç©ºå­—ç¬¦ä¸² `''`ï¼‰æˆ–æœ€åä¸€ä¸ªçœŸå€¼**ã€‚  
- **çŸ­è·¯ç‰¹æ€§**ï¼šå¦‚æœå·¦ä¾§ä¸ºå‡å€¼ï¼Œç›´æ¥è¿”å›å·¦ä¾§ï¼›å¦åˆ™è¿”å›å³ä¾§ã€‚

#### **å…¸å‹åœºæ™¯**
#### (1) **æ¡ä»¶åˆ¤æ–­ä¸çŸ­è·¯æ±‚å€¼**  
```javascript
if (user && user.name) { // å¦‚æœ user ä¸å­˜åœ¨ï¼Œç›´æ¥çŸ­è·¯ï¼Œä¸æ‰§è¡Œ user.name
  console.log(user.name);
}
```

#### (2) **å‡½æ•°è°ƒç”¨çš„æ¡ä»¶æ‰§è¡Œ**  
```javascript
const result = validateInput() && processInput(); 
// å¦‚æœ validateInput() è¿”å› falseï¼Œåˆ™ä¸æ‰§è¡Œ processInput()
```

#### (3) **ç®€æ´èµ‹å€¼**  
```javascript
const value = getOption() && getOption().value; // å¦‚æœ getOption() è¿”å› null/undefinedï¼Œç›´æ¥èµ‹å€¼ä¸ºå®ƒï¼Œå¦åˆ™å–å…¶ value å±æ€§
```

---

### **2. `||`ï¼ˆé€»è¾‘æˆ–è¿ç®—ç¬¦ï¼‰**
#### **ä½œç”¨**  
- **è¿”å›ç¬¬ä¸€ä¸ªçœŸå€¼æˆ–æœ€åä¸€ä¸ªå‡å€¼**ã€‚  
- **çŸ­è·¯ç‰¹æ€§**ï¼šå¦‚æœå·¦ä¾§ä¸ºçœŸå€¼ï¼Œç›´æ¥è¿”å›å·¦ä¾§ï¼›å¦åˆ™è¿”å›å³ä¾§ã€‚

#### **å…¸å‹åœºæ™¯**
#### (1) **æä¾›é»˜è®¤å€¼**  
```javascript
const name = user.name || 'Guest'; // å¦‚æœ user.name ä¸ºå‡å€¼ï¼ˆå¦‚ç©ºå­—ç¬¦ä¸²ã€nullï¼‰ï¼Œä½¿ç”¨ 'Guest'
```

#### (2) **å‚æ•°é»˜è®¤å€¼**  
```javascript
function greet(name = 'World') {
  return `Hello ${name}`;
}
greet(); // "Hello World"
```

#### (3) **å¤‡é€‰å€¼é€‰æ‹©**  
```javascript
const config = window.config || {}; // å¦‚æœ window.config ä¸å­˜åœ¨ï¼Œä½¿ç”¨ç©ºå¯¹è±¡
```

---

### **3. `??`ï¼ˆç©ºå€¼åˆå¹¶è¿ç®—ç¬¦ï¼ŒES2020+ï¼‰**
#### **ä½œç”¨**  
- **ä»…åœ¨å·¦ä¾§ä¸º `null` æˆ– `undefined` æ—¶ï¼Œè¿”å›å³ä¾§å€¼**ã€‚  
- å…¶ä»–å‡å€¼ï¼ˆå¦‚ `0`ã€`''`ã€`false`ï¼‰ä¼šè¢«ä¿ç•™ï¼Œä¸ä¼šè§¦å‘é»˜è®¤å€¼ã€‚

#### **å…¸å‹åœºæ™¯**
#### (1) **å®‰å…¨çš„é»˜è®¤å€¼èµ‹å€¼**  
```javascript
const count = data.count ?? 0; // å¦‚æœ data.count æ˜¯ 0ï¼Œä¿ç•™ 0ï¼›å¦‚æœæ˜¯ null/undefinedï¼Œä½¿ç”¨ 0
const name = user.name ?? 'Anonymous'; // å¦‚æœ user.name æ˜¯ç©ºå­—ç¬¦ä¸²ï¼Œä¿ç•™ç©ºå­—ç¬¦ä¸²
```

#### (2) **é¿å…è¦†ç›–åˆæ³•å‡å€¼**  
```javascript
// é”™è¯¯ç”¨æ³•ï¼ˆ||ï¼‰ï¼š
const price = product.price || 100; // å¦‚æœ product.price æ˜¯ 0ï¼Œä¼šé”™è¯¯åœ°ä½¿ç”¨ 100
// æ­£ç¡®ç”¨æ³•ï¼ˆ??ï¼‰ï¼š
const price = product.price ?? 100; // åªæœ‰å½“ product.price æ˜¯ null/undefined æ—¶ï¼Œæ‰ä½¿ç”¨ 100
```

#### (3) **å¤„ç† API è¿”å›çš„å¯èƒ½ç¼ºå¤±å€¼**  
```javascript
const userId = response.data?.userId ?? 'default'; // å¦‚æœ response.data.userId ä¸å­˜åœ¨ï¼Œä½¿ç”¨ 'default'
```

---

### **å…³é”®åŒºåˆ«å¯¹æ¯”**
| è¿ç®—ç¬¦ | è¿”å›å€¼é€»è¾‘           | è§¦å‘é»˜è®¤å€¼çš„æ¡ä»¶             | å…¸å‹ç”¨é€”                       |
| ------ | -------------------- | ---------------------------- | ------------------------------ |
| `&&`   | çŸ­è·¯è¿”å›æœ€åä¸€ä¸ªçœŸå€¼ | -                            | æ¡ä»¶æ‰§è¡Œã€é“¾å¼è°ƒç”¨             |
| `      |                      | `                            | çŸ­è·¯è¿”å›ç¬¬ä¸€ä¸ªçœŸå€¼             | å·¦ä¾§ä¸ºå‡å€¼ï¼ˆåŒ…æ‹¬ `0`ã€`''`ã€`false` ç­‰ï¼‰ | æä¾›é»˜è®¤å€¼ï¼ˆå¯èƒ½è¦†ç›–åˆæ³•å‡å€¼ï¼‰ |
| `??`   | çŸ­è·¯è¿”å›å³ä¾§å€¼       | å·¦ä¾§ä¸º `null` æˆ– `undefined` | å®‰å…¨é»˜è®¤å€¼èµ‹å€¼ï¼ˆä»…é’ˆå¯¹ç¼ºå¤±å€¼ï¼‰ |

---

### **å¸¸è§é”™è¯¯ä¸æ³¨æ„äº‹é¡¹**
1. **`||` çš„é™·é˜±**ï¼š  
   å½“éœ€è¦ä¿ç•™ `0`ã€ç©ºå­—ç¬¦ä¸²ç­‰åˆæ³•å€¼æ—¶ï¼Œé¿å…ä½¿ç”¨ `||`ï¼Œæ”¹ç”¨ `??`ã€‚  
   ```javascript
   const count = input || 0; // å¦‚æœ input æ˜¯ 0ï¼Œä¼šé”™è¯¯åœ°ä½¿ç”¨ 0ï¼ˆä½†å¯èƒ½ input å°±æ˜¯ 0ï¼‰
   const count = input ?? 0; // å¦‚æœ input æ˜¯ null/undefinedï¼Œä½¿ç”¨ 0ï¼›å¦åˆ™ä¿ç•™åŸå€¼
   ```

2. **`&&` çš„è¿”å›å€¼**ï¼š  
   `&&` è¿”å›çš„æ˜¯æœ€åä¸€ä¸ªè¡¨è¾¾å¼çš„ç»“æœï¼Œè€Œéå¸ƒå°”å€¼ã€‚  
   ```javascript
   const value = condition && 'result'; // å¦‚æœ condition ä¸ºçœŸï¼Œè¿”å› 'result'ï¼›å¦åˆ™è¿”å› condition çš„å€¼
   ```

3. **ä¼˜å…ˆçº§é—®é¢˜**ï¼š  
   `&&` çš„ä¼˜å…ˆçº§é«˜äº `||`ï¼Œéœ€æ³¨æ„æ‹¬å·çš„ä½¿ç”¨ï¼š  
   ```javascript
   a && b || c // ç­‰ä»·äº (a && b) || c
   ```

---

### **æ€»ç»“**
| åœºæ™¯                                      | æ¨èè¿ç®—ç¬¦ |
| ----------------------------------------- | ---------- |
| **æ¡ä»¶æ‰§è¡Œæˆ–é“¾å¼è°ƒç”¨**                    | `&&`       |
| **æä¾›é»˜è®¤å€¼ï¼ˆåŒ…å«æ‰€æœ‰å‡å€¼ï¼‰**            | `          |  | ` |
| **å®‰å…¨é»˜è®¤å€¼ï¼ˆä»…é’ˆå¯¹ `null/undefined`ï¼‰** | `??`       |

åˆç†ä½¿ç”¨è¿™äº›è¿ç®—ç¬¦å¯ä»¥æ˜¾è‘—ç®€åŒ–ä»£ç é€»è¾‘ï¼Œä½†éœ€æ³¨æ„å®ƒä»¬çš„è¡Œä¸ºå·®å¼‚ä»¥é¿å…æ„å¤–ç»“æœã€‚


































